import{t as V,v as H,j as e,M as w,S as x,T as v,G as c,n as _,w as A,r as n,x as G,D as B,y as L,z as N,C as O,E as q,H as C,J as R,B as b,K as M,N as U,P as K,Q as X,U as Q,V as J,W,X as Y,Y as Z,Z as ee,k as D,$ as te,a0 as oe}from"./index-58255262.js";import{S as ne,R as se,H as ae,r as re,I as T}from"./index-ba2eef4e.js";import{C as P}from"./CircularProgress-9a7015ed.js";var I={},le=H;Object.defineProperty(I,"__esModule",{value:!0});var E=I.default=void 0,ce=le(V()),ie=e;E=I.default=(0,ce.default)((0,ie.jsx)("path",{d:"M16.53 11.06 15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14z"}),"EventAvailable");var y={},de=H;Object.defineProperty(y,"__esModule",{value:!0});var z=y.default=void 0,ue=de(V()),ge=e;z=y.default=(0,ue.default)((0,ge.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups");const S=({title:l,count:a,icon:i})=>e.jsx(w,{contentSX:{p:2.25},children:e.jsxs(x,{spacing:.5,children:[i,e.jsx(v,{variant:"h6",color:"textSecondary",children:l}),e.jsx(c,{container:!0,alignItems:"center",children:e.jsx(c,{item:!0,children:e.jsx(v,{variant:"h4",color:"inherit",children:a})})})]})});function f(l){const{Icon:a,fontSize:i,bgColor:d,padding:u,boxSizing:g,color:m,borderRadius:j}=l,p={fontSize:i??"2.5rem",bgcolor:d??"primary.main",padding:u??"5px",boxSizing:g??"border-box",color:m??"white",borderRadius:j??"5px"};return e.jsx(a,{sx:p})}const me=(l,a,i,d)=>{const u=re(l.getValue(a),i);return d(u),u.passed};function xe({data:l,columns:a}){const i=_(),d=A(i.breakpoints.down("sm")),[u,g]=n.useState([{id:"id",desc:!0}]),[m,j]=n.useState({}),[p,h]=n.useState(""),s=G({data:l,columns:a,state:{sorting:u,rowSelection:m,globalFilter:p},enableRowSelection:!0,onSortingChange:g,onRowSelectionChange:j,onGlobalFilterChange:h,getRowCanExpand:()=>!0,getSortedRowModel:J(),getFilteredRowModel:W(),getCoreRowModel:Y(),getPaginationRowModel:Z(),getExpandedRowModel:ee(),globalFilterFn:me,debugTable:!0});return e.jsxs(w,{content:!1,children:[e.jsxs(x,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",justifyContent:"space-between",sx:{padding:2,...d&&{"& .MuiOutlinedInput-root, & .MuiFormControl-root":{width:"100%"}}},children:[e.jsx(B,{value:p??"",onFilterChange:r=>{h(String(r))},placeholder:"Buscar departamento ..."}),e.jsxs(x,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:[e.jsx(ne,{getState:s.getState,getAllColumns:s.getAllColumns,setSorting:g}),e.jsx(x,{direction:"row",spacing:2,alignItems:"center"})]})]}),e.jsx(L,{children:e.jsxs(x,{children:[e.jsx(se,{selected:Object.keys(m).length}),e.jsx(N,{children:e.jsxs(O,{children:[e.jsx(q,{children:s.getHeaderGroups().map(r=>e.jsx(C,{children:r.headers.map(t=>(t.column.columnDef.meta!==void 0&&t.column.getCanSort()&&Object.assign(t.column.columnDef.meta,{className:t.column.columnDef.meta.className+" cursor-pointer prevent-select"}),e.jsx(R,{...t.column.columnDef.meta,onClick:t.column.getToggleSortingHandler(),...t.column.getCanSort()&&t.column.columnDef.meta===void 0&&{className:"cursor-pointer prevent-select"},children:t.isPlaceholder?null:e.jsxs(x,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(b,{children:M(t.column.columnDef.header,t.getContext())}),t.column.getCanSort()&&e.jsx(ae,{column:t.column})]})},t.id)))},r.id))}),e.jsx(U,{children:s.getRowModel().rows.length===0?e.jsx(C,{children:e.jsx(R,{colSpan:a.length,align:"center",children:e.jsx(K,{msg:"Nenhum registro encontrado"})})}):s.getRowModel().rows.map(r=>e.jsx(n.Fragment,{children:e.jsx(C,{children:r.getVisibleCells().map(t=>e.jsx(R,{...t.column.columnDef.meta,children:M(t.column.columnDef.cell,t.getContext())},t.id))})},r.id))})]})}),e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(b,{sx:{p:2},children:e.jsx(Q,{setPageSize:s.setPageSize,setPageIndex:s.setPageIndex,getState:s.getState,getPageCount:s.getPageCount})})]})]})})]})}function Se(){const l=_(),[a,i]=n.useState([]),[d,u]=n.useState(0),[g,m]=n.useState(0),[j,p]=n.useState(0),[h,s]=n.useState(0),[r,t]=n.useState(!1);n.useEffect(()=>{F(),k()},[]);const F=async()=>{try{t(!0);const o=await D.get("/inventory/polo/totalValue");s(o.data.polo),t(!1)}catch(o){console.error("Erro ao buscar dados:",o),t(!1)}},k=async()=>{try{t(!0);const o=await D.get("/inventory/departments/count");m(o.data.departamentos),t(!1)}catch(o){console.error("Erro ao buscar dados:",o),t(!1)}},$=n.useMemo(()=>[{id:"select",header:({table:o})=>e.jsx(T,{checked:o.getIsAllRowsSelected(),indeterminate:o.getIsSomeRowsSelected(),onChange:o.getToggleAllRowsSelectedHandler()}),cell:({row:o})=>e.jsx(T,{checked:o.getIsSelected(),disabled:!o.getCanSelect(),indeterminate:o.getIsSomeSelected(),onChange:o.getToggleSelectedHandler()})},{accessorKey:"departamento",header:"Departamento"},{accessorKey:"valor",header:"Valor Total"}],[l]);return e.jsx(w,{sx:{p:2.5,display:"flex",flexDirection:"column"},children:e.jsxs(c,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[e.jsx(c,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(S,{title:"Usu√°rios",count:d,icon:e.jsx(f,{Icon:z})})}),e.jsx(c,{item:!0,xs:12,sm:6,md:4,lg:3,children:r?e.jsxs(b,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[e.jsx(P,{}),e.jsx(v,{variant:"body2",color:"textSecondary",sx:{mt:2},children:"Carregando..."})]}):e.jsx(S,{title:"Departamentos",count:g,icon:e.jsx(f,{Icon:te,bgColor:"teal"})})}),e.jsx(c,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(S,{title:"Itens Inventariados",count:j,icon:e.jsx(f,{Icon:E,bgColor:"purple"})})}),e.jsx(c,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(S,{title:"Valores polo",count:`R$ ${h}`,icon:e.jsx(f,{Icon:oe,bgColor:"green"})})}),e.jsx(c,{item:!0,md:8,sx:{marginBottom:2}}),e.jsx(c,{item:!0,sx:{width:"100%"},children:r?e.jsxs(b,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[e.jsx(P,{}),e.jsx(v,{variant:"body2",color:"textSecondary",sx:{mt:2},children:"Carregando..."})]}):e.jsx(xe,{data:a,columns:$})})]})})}export{Se as default};
